# Trabalhando com condição

===== if =====
if [condição]; then
	# bloco de codigo
elif [outra condição]; then
	# bloco  2
else
	# bloco
fi

====== for =====
for i in {1..5}
do
  echo $i
done

===== case =====
case "$operacao" in
        "compactar") #Aqui é o valor dentro da variavel $operação
		;; #Usado para fechar esse bloco
        "descompactar")
		;;
        *) #É usada para capturar todos os outros casos que não foram previamente especificados
		;;
esac #Usado para fechar o case

# ==================================================================

# Operadores
	=		Igualdade
	!=		Desigualdade entre duas strings
	-eq		Igualdade entre dois números
	-ne		Desigualdade entre dois números
	-gt		maior que
	-lt		Menor que
	-ge		maior ou igual
	-e "/caminho"	Verificando a existencia de um diretorio ou arquivo
    -d "$caminho"   Verifica se o caminho é um diretório válido.
	read	Permite uma interação para receber uma informação do usuário e armazenar na variavel. Ex.: read nome_diretorio
	exit 1	Saida de erro padrão

# ============================ Exemplos de código ======================================

#Comecamos indicando o interpretador
	#!/bin/bash

#Para conseguir algum bash script
	chmod +x backup.sh
	bash backup.sh


======= Exemplo 1 =========

#Solicitamos ao usuário o caminho do diretório
read -p "Digite o caminho do diretório: " caminho

#Verificamos se o caminho do diretório é válido
if [-d "$caminho"]; then
   echo "O caminho é um diretório válido."
else
  echo "O caminho não é um diretório válido ou ele não existe."
fi

======= Exemplo 2 =========

read -p "Entre com a operação desejada: 'compactar' ou 'descompactar'" operacao

case "$operacao" in
        "compactar")
                read -p "Nome do arquivo final (.tar.gz)" arquivo_saida
                read -p "Lista de arquivos separados por espaço:" arquivos
                tar -czf "$arquivo_saida" $arquivos
                echo "Compactados com sucesso em $arquivo_saida"
        ;;
        "descompactar")
                read -p "Nome do arquivo a descompactar (.tar.gz)" arquivo
                read -p "Diretorio de destino" diretorio
                tar -xzf "$arquivo" -C "$diretorio"
                echo "Descompactado com sucesso em $diretorio"
        ;;
        *)
	        echo "Operacao invalida!"
	        echo "Selecione descompactar ou compactar"
	        exit 1
		;;
esac

======= Exemplo 3 =========

diretorio_backup="/home/galdper/devops"
nome_arquivo="backup_$(date +%Y%m%d_%H%M%S).tar.gz"
tar -czf "$nome_arquivo" "diretorio_backup"
echo "Backup concluido em $nome_arquivo"


======= Exemplo 4 =========

# Indicamos o interpretador
#!/bin/bash

# Solicitamos a indicação do caminho do diretório
read -p "Digite o caminho do diretório com as imagens JPG: " diretorio

# Verificamos se o diretório indicado existe
if [ ! -d "$diretorio" ]; then
    echo "Diretório não encontrado: $diretorio"
    exit 1
fi

# Convertemos todas as imagens JPG para PNG no diretório
for imagem_jpg in "$diretorio"/*.jpg; do
    convert "$imagem_jpg" "${imagem_jpg%.jpg}.png" && echo "Imagem convertida: ${imagem_jpg%.jpg}.png" || echo "Falha na conversão: $imagem_jpg"
done

echo "Conversão concluída!"

======= Exemplo 5 =========

#!/bin/bash
prefixo="Novo_"
for arquivo in *; do
  mv "$arquivo" "$prefixo$arquivo"
done

# ===================================================================

